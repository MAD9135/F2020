<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>11.2 Nested Navigation | MAD9135</title>
    <meta name="generator" content="VuePress 1.5.4">
    
    <meta name="description" content="HTML5 App Development">
    <link rel="preload" href="/F2020/assets/css/0.styles.cc1da3e7.css" as="style"><link rel="preload" href="/F2020/assets/js/app.71c50f4b.js" as="script"><link rel="preload" href="/F2020/assets/js/2.ad437195.js" as="script"><link rel="preload" href="/F2020/assets/js/38.eeda1499.js" as="script"><link rel="preload" href="/F2020/assets/js/6.2620568a.js" as="script"><link rel="prefetch" href="/F2020/assets/js/10.c2d815ec.js"><link rel="prefetch" href="/F2020/assets/js/11.02a0369f.js"><link rel="prefetch" href="/F2020/assets/js/12.3bf04f72.js"><link rel="prefetch" href="/F2020/assets/js/13.1c6e5c32.js"><link rel="prefetch" href="/F2020/assets/js/14.5d381c06.js"><link rel="prefetch" href="/F2020/assets/js/15.719e0a65.js"><link rel="prefetch" href="/F2020/assets/js/16.4f84fc00.js"><link rel="prefetch" href="/F2020/assets/js/17.02eb0c88.js"><link rel="prefetch" href="/F2020/assets/js/18.1b02271c.js"><link rel="prefetch" href="/F2020/assets/js/19.09648475.js"><link rel="prefetch" href="/F2020/assets/js/20.87442cf4.js"><link rel="prefetch" href="/F2020/assets/js/21.6acc8fc8.js"><link rel="prefetch" href="/F2020/assets/js/22.5bbfc680.js"><link rel="prefetch" href="/F2020/assets/js/23.8c578ce5.js"><link rel="prefetch" href="/F2020/assets/js/24.cb7a00dd.js"><link rel="prefetch" href="/F2020/assets/js/25.cbff6da5.js"><link rel="prefetch" href="/F2020/assets/js/26.c16a249a.js"><link rel="prefetch" href="/F2020/assets/js/27.167b7c92.js"><link rel="prefetch" href="/F2020/assets/js/28.0eda0394.js"><link rel="prefetch" href="/F2020/assets/js/29.451391d8.js"><link rel="prefetch" href="/F2020/assets/js/3.b1fd2577.js"><link rel="prefetch" href="/F2020/assets/js/30.b13b96b7.js"><link rel="prefetch" href="/F2020/assets/js/31.1c4f6cb4.js"><link rel="prefetch" href="/F2020/assets/js/32.b4b69cff.js"><link rel="prefetch" href="/F2020/assets/js/33.739c7797.js"><link rel="prefetch" href="/F2020/assets/js/34.03aed1d9.js"><link rel="prefetch" href="/F2020/assets/js/35.85081de8.js"><link rel="prefetch" href="/F2020/assets/js/36.22504173.js"><link rel="prefetch" href="/F2020/assets/js/37.9d876e07.js"><link rel="prefetch" href="/F2020/assets/js/39.11489612.js"><link rel="prefetch" href="/F2020/assets/js/4.cc77419a.js"><link rel="prefetch" href="/F2020/assets/js/40.cffceb2a.js"><link rel="prefetch" href="/F2020/assets/js/41.bd24dd52.js"><link rel="prefetch" href="/F2020/assets/js/42.00c7d473.js"><link rel="prefetch" href="/F2020/assets/js/43.cdd77206.js"><link rel="prefetch" href="/F2020/assets/js/44.98bddbe7.js"><link rel="prefetch" href="/F2020/assets/js/45.5490fcb1.js"><link rel="prefetch" href="/F2020/assets/js/46.37e77bac.js"><link rel="prefetch" href="/F2020/assets/js/47.f0e1e7ad.js"><link rel="prefetch" href="/F2020/assets/js/48.5b6b9e75.js"><link rel="prefetch" href="/F2020/assets/js/49.818493e4.js"><link rel="prefetch" href="/F2020/assets/js/5.722d8314.js"><link rel="prefetch" href="/F2020/assets/js/50.f9160a1e.js"><link rel="prefetch" href="/F2020/assets/js/51.23445ddd.js"><link rel="prefetch" href="/F2020/assets/js/52.74b403b6.js"><link rel="prefetch" href="/F2020/assets/js/53.59821ac2.js"><link rel="prefetch" href="/F2020/assets/js/54.44362052.js"><link rel="prefetch" href="/F2020/assets/js/55.d6947e6e.js"><link rel="prefetch" href="/F2020/assets/js/56.fd062c7c.js"><link rel="prefetch" href="/F2020/assets/js/57.bdca367e.js"><link rel="prefetch" href="/F2020/assets/js/58.90d58982.js"><link rel="prefetch" href="/F2020/assets/js/59.1a925b68.js"><link rel="prefetch" href="/F2020/assets/js/60.2b1d5330.js"><link rel="prefetch" href="/F2020/assets/js/61.f566edd7.js"><link rel="prefetch" href="/F2020/assets/js/62.f836ae34.js"><link rel="prefetch" href="/F2020/assets/js/63.f34d8438.js"><link rel="prefetch" href="/F2020/assets/js/64.be26bf42.js"><link rel="prefetch" href="/F2020/assets/js/65.5b33fabd.js"><link rel="prefetch" href="/F2020/assets/js/66.38722f0c.js"><link rel="prefetch" href="/F2020/assets/js/67.bc61efe9.js"><link rel="prefetch" href="/F2020/assets/js/68.3cf6e246.js"><link rel="prefetch" href="/F2020/assets/js/69.8fd9a7bb.js"><link rel="prefetch" href="/F2020/assets/js/7.549e4e32.js"><link rel="prefetch" href="/F2020/assets/js/70.b41f8caf.js"><link rel="prefetch" href="/F2020/assets/js/71.a96d1c60.js"><link rel="prefetch" href="/F2020/assets/js/72.04d70935.js"><link rel="prefetch" href="/F2020/assets/js/73.de491df5.js"><link rel="prefetch" href="/F2020/assets/js/74.e5ee8a9e.js"><link rel="prefetch" href="/F2020/assets/js/75.6d2e2098.js"><link rel="prefetch" href="/F2020/assets/js/76.26d3e621.js"><link rel="prefetch" href="/F2020/assets/js/77.5522d813.js"><link rel="prefetch" href="/F2020/assets/js/78.660d4301.js"><link rel="prefetch" href="/F2020/assets/js/79.e34d1770.js"><link rel="prefetch" href="/F2020/assets/js/8.cd8d51b1.js"><link rel="prefetch" href="/F2020/assets/js/9.a7d15d43.js">
    <link rel="stylesheet" href="/F2020/assets/css/0.styles.cc1da3e7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/F2020/" class="home-link router-link-active"><!----> <span class="site-name">MAD9135</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/F2020/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/F2020/modules/" class="nav-link router-link-active">
  Modules
</a></div><div class="nav-item"><a href="/F2020/deliverables/" class="nav-link">
  Assignments
</a></div><div class="nav-item"><a href="/F2020/resources/" class="nav-link">
  Resources
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/F2020/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/F2020/modules/" class="nav-link router-link-active">
  Modules
</a></div><div class="nav-item"><a href="/F2020/deliverables/" class="nav-link">
  Assignments
</a></div><div class="nav-item"><a href="/F2020/resources/" class="nav-link">
  Resources
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Introduction</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Content Modules</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/F2020/modules/week1/01-javascript-review/" class="sidebar-link">1.1 JavaScript Review</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/F2020/modules/week1/02-dom-apis/" class="sidebar-heading clickable"><span>1.2 DOM APIs Review</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/F2020/modules/week2/01-data-structures/" class="sidebar-link">2.1 JavaScript Data Types</a></li><li><a href="/F2020/modules/week2/02-modules-promises/" class="sidebar-link">2.2 Modules and Promises</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/F2020/modules/week3/01-what-is-react/" class="sidebar-heading clickable"><span>3.1 What is React?</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/F2020/modules/week3/02-react-tooling/" class="sidebar-heading clickable"><span>3.2 React Tooling</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/F2020/modules/week4/01-components-props/" class="sidebar-link">4.1 Components &amp; Props</a></li><li><a href="/F2020/modules/week4/02-component-state/" class="sidebar-link">4.2 State Management</a></li><li><a href="/F2020/modules/week5/01-hooks-weather/" class="sidebar-link">5.1 Hooks: State &amp; AJAX</a></li><li><a href="/F2020/modules/week5/02-react-router/" class="sidebar-link">5.2 Navigation</a></li><li><a href="/F2020/modules/week6/01-context/" class="sidebar-link">6.1 React Context</a></li><li><a href="/F2020/modules/week6/02-production-deployment/" class="sidebar-link">6.2 Production Deployment</a></li><li><a href="/F2020/" aria-current="page" class="sidebar-link">7.1 Forms &amp; Animation</a></li><li><a href="/F2020/" aria-current="page" class="sidebar-link">7.2 Styling</a></li><li><a href="/F2020/modules/break-week/" class="sidebar-link">Break Week</a></li><li><a href="/F2020/modules/week8/01-react-design-patterns/" class="sidebar-link">8.1 Advance Features</a></li><li><a href="/F2020/modules/week8/02-working-in-teams/" class="sidebar-link">8.2 Working in teams</a></li><li><a href="/F2020/modules/week9/01-pwa-review/" class="sidebar-link">9.1 PWA Review</a></li><li><a href="/F2020/modules/week9/02-react-pwa/" class="sidebar-link">9.2 PWAs with React</a></li><li><a href="/F2020/modules/week10/01-hello-react-native/" class="sidebar-link">10.1 React Native with Expo</a></li><li><a href="/F2020/modules/week10/02-the-same-but-different/" class="sidebar-link">10.2 What's Different</a></li><li><a href="/F2020/modules/week11/01-layout-navigation/" class="sidebar-link">11.1 Layout &amp; Navigation</a></li><li><a href="/F2020/modules/week11/02-nested-navigation/" aria-current="page" class="active sidebar-link">11.2 Nested Navigation</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/F2020/modules/week11/02-nested-navigation/#tab-navigation" class="sidebar-link">Tab Navigation</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/F2020/modules/week11/02-nested-navigation/#add-icons" class="sidebar-link">Add icons</a></li></ul></li><li class="sidebar-sub-header"><a href="/F2020/modules/week11/02-nested-navigation/#nested-navigators" class="sidebar-link">Nested Navigators</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/F2020/modules/week11/02-nested-navigation/#create-a-homedetailsscreen-component" class="sidebar-link">Create a HomeDetailsScreen component</a></li><li class="sidebar-sub-header"><a href="/F2020/modules/week11/02-nested-navigation/#install-the-library" class="sidebar-link">Install the library</a></li><li class="sidebar-sub-header"><a href="/F2020/modules/week11/02-nested-navigation/#create-a-new-homestackscreen-component" class="sidebar-link">Create a new HomeStackScreen component</a></li></ul></li><li class="sidebar-sub-header"><a href="/F2020/modules/week11/02-nested-navigation/#focus-aware-statusbar" class="sidebar-link">Focus Aware StatusBar</a></li><li class="sidebar-sub-header"><a href="/F2020/modules/week11/02-nested-navigation/#drawer-navigation" class="sidebar-link">Drawer Navigation</a></li><li class="sidebar-sub-header"><a href="/F2020/modules/week11/02-nested-navigation/#resources" class="sidebar-link">Resources</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/F2020/modules/week11/02-nested-navigation/#github-repo" class="sidebar-link">GitHub repo</a></li><li class="sidebar-sub-header"><a href="/F2020/modules/week11/02-nested-navigation/#api-docs" class="sidebar-link">API docs</a></li></ul></li></ul></li><li><a href="/F2020/modules/week12/01-component-libraries/" class="sidebar-link">12.1 React Native Components</a></li><li><a href="/F2020/modules/week12/02-context-themes/" class="sidebar-link">12.2 React Native Styling</a></li><li><a href="/F2020/" aria-current="page" class="sidebar-link">13.1 Remote Data</a></li><li><a href="/F2020/" aria-current="page" class="sidebar-link">13.2 Production Deployment</a></li><li><a href="/F2020/" aria-current="page" class="sidebar-link">14.1 Final Projects</a></li><li><a href="/F2020/" aria-current="page" class="sidebar-link">14.2 Final Projects</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/F2020/deliverables/" class="sidebar-heading clickable"><span>Deliverables</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><header><div class="section-title">
    
  </div> <h1>11.2 Nested Navigation</h1></header> <p>Building on what you have learned from the last module, it is time to look at how to manage the multi-level navigation requirements common to modern mobile applications. The initial setup is the same as for the Stack Navigator. Make sure that these dependencies are installed in your project.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> @react-navigation/native
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code>expo <span class="token function">install</span> react-native-gesture-handler react-native-reanimated react-native-screens react-native-safe-area-context @react-native-community/masked-view
</code></pre></div><h2 id="tab-navigation"><a href="#tab-navigation" class="header-anchor">#</a> Tab Navigation</h2> <p>The usage instructions for <code>Tab.Navigator</code> are very similar to the <code>Stack.Navigator</code>. Before you can use the tab navigator, you need to install the NPM module.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> @react-navigation/bottom-tabs
</code></pre></div><p>Then import the <code>createBottomNavigator</code> function in your App.js module.</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><div class="highlighted"> </div><br></div><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> NavigationContainer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@react-navigation/native'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createBottomTabNavigator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@react-navigation/bottom-tabs'</span>
</code></pre></div><p>Next create a new instance of the <code>Tab</code> object using the imported function. When invoked, it returns on object with two properties containing React components: <code>Screen</code> and <code>Navigator</code>.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Tab <span class="token operator">=</span> <span class="token function">createBottomTabNavigator</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>Then in the JSX, replace <code>Stack.Navigator</code> with <code>Tab.Navigator</code> and replace <code>Stack.Screen</code> with <code>Tab.Screen</code>.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>NavigationContainer<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Tab<span class="token punctuation">.</span>Navigator<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Tab<span class="token punctuation">.</span>Screen name<span class="token operator">=</span><span class="token string">&quot;Home&quot;</span> component<span class="token operator">=</span><span class="token punctuation">{</span>HomeScreen<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Tab<span class="token punctuation">.</span>Screen name<span class="token operator">=</span><span class="token string">&quot;About&quot;</span> component<span class="token operator">=</span><span class="token punctuation">{</span>AboutScreen<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Tab<span class="token punctuation">.</span>Screen name<span class="token operator">=</span><span class="token string">&quot;Contact&quot;</span> component<span class="token operator">=</span><span class="token punctuation">{</span>ContactScreen<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Tab<span class="token punctuation">.</span>Navigator<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>NavigationContainer<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="add-icons"><a href="#add-icons" class="header-anchor">#</a> Add icons</h3> <p>It is easy to add icons to your tabs using the included <code>react-native-vector-icons</code> packages that Expo installs by default.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> Ionicons <span class="token keyword">from</span> <span class="token string">'react-native-vector-icons/Ionicons'</span>
</code></pre></div><p>Then using the <code>options</code> prop on the <code>Tab.Screen</code> component, set the <code>tabBarIcon</code>. To make the icon dynamic, use a function that is given the focused state, color, and size params.</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br></div><pre class="language-js"><code><span class="token operator">&lt;</span>Tab<span class="token punctuation">.</span>Screen
  name<span class="token operator">=</span><span class="token string">&quot;Contact&quot;</span>
  component<span class="token operator">=</span><span class="token punctuation">{</span>ContactScreen<span class="token punctuation">}</span>
  options<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
    <span class="token function-variable function">tabBarIcon</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>focused<span class="token punctuation">,</span> size<span class="token punctuation">,</span> color<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>Ionicons name<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'ios-paper-plane'</span><span class="token punctuation">}</span> size<span class="token operator">=</span><span class="token punctuation">{</span>size<span class="token punctuation">}</span> color<span class="token operator">=</span><span class="token punctuation">{</span>color<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><p>You have complete flexibility in styling your tabs to match your designs. For example, let's use <code>indigo</code> as our key brand colour and then set up the tab bar options.</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Tab.Navigator</span></span>
  <span class="token attr-name">tabBarOptions</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
    activeTintColor<span class="token operator">:</span> <span class="token string">'hsl(275, 100%, 23%)'</span><span class="token punctuation">,</span> <span class="token comment">// indigo</span>
    inactiveTintColor<span class="token operator">:</span> <span class="token string">'hsl(275, 15%, 60%)'</span><span class="token punctuation">,</span>
    style<span class="token operator">:</span> <span class="token punctuation">{</span>backgroundColor<span class="token operator">:</span> <span class="token string">'hsl(275, 100%, 93%)'</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
<span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></code></pre></div><div class="custom-block tip"><p class="custom-block-title">Read the docs ...</p> <p>For a full list of options, see the <a href="https://reactnavigation.org/docs/bottom-tab-navigator/" target="_blank" rel="noopener noreferrer">React Navigation API docs<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></div> <h2 id="nested-navigators"><a href="#nested-navigators" class="header-anchor">#</a> Nested Navigators</h2> <p>It is pretty common to have a tab navigator as the primary means of navigation in a mobile app. And it is also quite common to have a nested stack navigator in a tab screen to allow the user to view more detailed content or perhaps to edit content.</p> <p>So, how do you do that?</p> <p>Because the React Navigation library uses factory functions to create unique instances of the various navigator objects, e.g. Stack or Tab, your application can deploy them in combination. Each will maintain its own independent navigation state.</p> <p>Lets add a stack navigator to the home screen inside our tab navigator.</p> <h3 id="create-a-homedetailsscreen-component"><a href="#create-a-homedetailsscreen-component" class="header-anchor">#</a> Create a <code>HomeDetailsScreen</code> component</h3> <p>This will be added to the home screen stack navigator in a couple of steps from now.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">HomeDetailsScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>SafeAreaView style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>flex<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>View style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>flex<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> justifyContent<span class="token operator">:</span> <span class="token string">'center'</span><span class="token punctuation">,</span> alignItems<span class="token operator">:</span> <span class="token string">'center'</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Text<span class="token operator">&gt;</span>Home Details<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>Text<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>View<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>SafeAreaView<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="install-the-library"><a href="#install-the-library" class="header-anchor">#</a> Install the library</h3> <p>Next you will need to add the stack navigator library to your project.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> @react-navigation/stack
</code></pre></div><p>And then create a new <code>Stack</code> instance ...</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createStackNavigator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@react-navigation/stack'</span>

<span class="token keyword">const</span> Stack <span class="token operator">=</span> <span class="token function">createStackNavigator</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="create-a-new-homestackscreen-component"><a href="#create-a-new-homestackscreen-component" class="header-anchor">#</a> Create a new HomeStackScreen component</h3> <p>When the &quot;Home&quot; tab is selected in the <code>Tab.Navigator</code> you need to give it the <code>Stack.Navigator</code> to render, which will in turn render either the <code>HomeScreen</code> or the <code>HomeDetailsScreen</code>.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">HomeStackScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>HomeStack<span class="token punctuation">.</span>Navigator<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>HomeStack<span class="token punctuation">.</span>Screen name<span class="token operator">=</span><span class="token string">&quot;Home&quot;</span> component<span class="token operator">=</span><span class="token punctuation">{</span>HomeScreen<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>HomeStack<span class="token punctuation">.</span>Screen name<span class="token operator">=</span><span class="token string">&quot;HomeDetails&quot;</span> component<span class="token operator">=</span><span class="token punctuation">{</span>HomeDetailsScreen<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>HomeStack<span class="token punctuation">.</span>Navigator<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">Stack state is maintained</p> <p>Notice that when you change tabs and then go back to a tab with a nested <code>Stack.Navigator</code>, the previous state of that stack is unchanged. i.e. it is still showing the same screen as before you switched tabs.</p></div> <h2 id="focus-aware-statusbar"><a href="#focus-aware-statusbar" class="header-anchor">#</a> Focus Aware StatusBar</h2> <p>When your app design calls for different background colours for the header on difference screens, the normal behaviour of the <code>StatusBar</code> component isn't helpful. It will keep the settings (light or dark) of the last component to render.</p> <p>The solution is to create your own <code>FocusAwareStatusBar</code>, using the <code>useIsFocused</code> hook from React Navigation. This will cause your status bar to re-render when the screen is in focus, thereby updating the StatusBar with the correct settings.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>StatusBar<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'expo-status-bar'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>useIsFocused<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@react-navigation/native'</span>

<span class="token keyword">function</span> <span class="token function">FocusAwareStatusBar</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> isFocused <span class="token operator">=</span> <span class="token function">useIsFocused</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> isFocused <span class="token operator">?</span> <span class="token operator">&lt;</span>StatusBar <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span> <span class="token operator">:</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> FocusAwareStatusBar
</code></pre></div><p>You may now use this component as needed in your screen component JSX, with the same props as the regular Expo StatusBar.</p> <h2 id="drawer-navigation"><a href="#drawer-navigation" class="header-anchor">#</a> Drawer Navigation</h2> <p>Install the drawer module.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> @react-navigation/drawer
</code></pre></div><p>Import and run the factory function.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createDrawerNavigator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@react-navigation/drawer'</span>

<span class="token keyword">const</span> Drawer <span class="token operator">=</span> <span class="token function">createDrawerNavigator</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>Extract the Tab navigation to its own <code>TabScreen</code> component and then update the top level navigation in App.js to look like this ...</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>NavigationContainer<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Drawer<span class="token punctuation">.</span>Navigator initialRouteName<span class="token operator">=</span><span class="token string">&quot;Home&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Drawer<span class="token punctuation">.</span>Screen name<span class="token operator">=</span><span class="token string">&quot;Home&quot;</span> component<span class="token operator">=</span><span class="token punctuation">{</span>TabScreen<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Drawer<span class="token punctuation">.</span>Screen name<span class="token operator">=</span><span class="token string">&quot;Setting&quot;</span> component<span class="token operator">=</span><span class="token punctuation">{</span>SettingsScreen<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Drawer<span class="token punctuation">.</span>Navigator<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>NavigationContainer<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="resources"><a href="#resources" class="header-anchor">#</a> Resources</h2> <h3 id="github-repo"><a href="#github-repo" class="header-anchor">#</a> GitHub repo</h3> <p><a href="https://github.com/rlmckenney/mad9135-nested-nav-demo" target="_blank" rel="noopener noreferrer">rlmckenney/mad9135-nested-nav-demo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="api-docs"><a href="#api-docs" class="header-anchor">#</a> API docs</h3> <ul><li><a href="https://reactnavigation.org/docs/stack-navigator" target="_blank" rel="noopener noreferrer">Stack Navigator<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://reactnavigation.org/docs/bottom-tab-navigator" target="_blank" rel="noopener noreferrer">Bottom Tab Navigator<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://reactnavigation.org/docs/drawer-navigator" target="_blank" rel="noopener noreferrer">Drawer Navigator<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: :</span> <span class="time">11/27/2020, 4:05:23 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/F2020/modules/week11/01-layout-navigation/" class="prev">
        11.1 Layout &amp; Navigation
      </a></span> <span class="next"><a href="/F2020/modules/week12/01-component-libraries/">
        12.1 React Native Components
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/F2020/assets/js/app.71c50f4b.js" defer></script><script src="/F2020/assets/js/2.ad437195.js" defer></script><script src="/F2020/assets/js/38.eeda1499.js" defer></script><script src="/F2020/assets/js/6.2620568a.js" defer></script>
  </body>
</html>
