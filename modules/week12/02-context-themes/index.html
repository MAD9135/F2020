<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>12.2 React Native Styling | MAD9135</title>
    <meta name="generator" content="VuePress 1.5.4">
    
    <meta name="description" content="HTML5 App Development">
    <link rel="preload" href="/F2020/assets/css/0.styles.cc1da3e7.css" as="style"><link rel="preload" href="/F2020/assets/js/app.71c50f4b.js" as="script"><link rel="preload" href="/F2020/assets/js/2.ad437195.js" as="script"><link rel="preload" href="/F2020/assets/js/41.bd24dd52.js" as="script"><link rel="preload" href="/F2020/assets/js/6.2620568a.js" as="script"><link rel="prefetch" href="/F2020/assets/js/10.c2d815ec.js"><link rel="prefetch" href="/F2020/assets/js/11.02a0369f.js"><link rel="prefetch" href="/F2020/assets/js/12.3bf04f72.js"><link rel="prefetch" href="/F2020/assets/js/13.1c6e5c32.js"><link rel="prefetch" href="/F2020/assets/js/14.5d381c06.js"><link rel="prefetch" href="/F2020/assets/js/15.719e0a65.js"><link rel="prefetch" href="/F2020/assets/js/16.4f84fc00.js"><link rel="prefetch" href="/F2020/assets/js/17.02eb0c88.js"><link rel="prefetch" href="/F2020/assets/js/18.1b02271c.js"><link rel="prefetch" href="/F2020/assets/js/19.09648475.js"><link rel="prefetch" href="/F2020/assets/js/20.87442cf4.js"><link rel="prefetch" href="/F2020/assets/js/21.6acc8fc8.js"><link rel="prefetch" href="/F2020/assets/js/22.5bbfc680.js"><link rel="prefetch" href="/F2020/assets/js/23.8c578ce5.js"><link rel="prefetch" href="/F2020/assets/js/24.cb7a00dd.js"><link rel="prefetch" href="/F2020/assets/js/25.cbff6da5.js"><link rel="prefetch" href="/F2020/assets/js/26.c16a249a.js"><link rel="prefetch" href="/F2020/assets/js/27.167b7c92.js"><link rel="prefetch" href="/F2020/assets/js/28.0eda0394.js"><link rel="prefetch" href="/F2020/assets/js/29.451391d8.js"><link rel="prefetch" href="/F2020/assets/js/3.b1fd2577.js"><link rel="prefetch" href="/F2020/assets/js/30.b13b96b7.js"><link rel="prefetch" href="/F2020/assets/js/31.1c4f6cb4.js"><link rel="prefetch" href="/F2020/assets/js/32.b4b69cff.js"><link rel="prefetch" href="/F2020/assets/js/33.739c7797.js"><link rel="prefetch" href="/F2020/assets/js/34.03aed1d9.js"><link rel="prefetch" href="/F2020/assets/js/35.85081de8.js"><link rel="prefetch" href="/F2020/assets/js/36.22504173.js"><link rel="prefetch" href="/F2020/assets/js/37.9d876e07.js"><link rel="prefetch" href="/F2020/assets/js/38.eeda1499.js"><link rel="prefetch" href="/F2020/assets/js/39.11489612.js"><link rel="prefetch" href="/F2020/assets/js/4.cc77419a.js"><link rel="prefetch" href="/F2020/assets/js/40.cffceb2a.js"><link rel="prefetch" href="/F2020/assets/js/42.00c7d473.js"><link rel="prefetch" href="/F2020/assets/js/43.cdd77206.js"><link rel="prefetch" href="/F2020/assets/js/44.98bddbe7.js"><link rel="prefetch" href="/F2020/assets/js/45.5490fcb1.js"><link rel="prefetch" href="/F2020/assets/js/46.37e77bac.js"><link rel="prefetch" href="/F2020/assets/js/47.f0e1e7ad.js"><link rel="prefetch" href="/F2020/assets/js/48.5b6b9e75.js"><link rel="prefetch" href="/F2020/assets/js/49.818493e4.js"><link rel="prefetch" href="/F2020/assets/js/5.722d8314.js"><link rel="prefetch" href="/F2020/assets/js/50.f9160a1e.js"><link rel="prefetch" href="/F2020/assets/js/51.23445ddd.js"><link rel="prefetch" href="/F2020/assets/js/52.74b403b6.js"><link rel="prefetch" href="/F2020/assets/js/53.59821ac2.js"><link rel="prefetch" href="/F2020/assets/js/54.44362052.js"><link rel="prefetch" href="/F2020/assets/js/55.d6947e6e.js"><link rel="prefetch" href="/F2020/assets/js/56.fd062c7c.js"><link rel="prefetch" href="/F2020/assets/js/57.bdca367e.js"><link rel="prefetch" href="/F2020/assets/js/58.90d58982.js"><link rel="prefetch" href="/F2020/assets/js/59.1a925b68.js"><link rel="prefetch" href="/F2020/assets/js/60.2b1d5330.js"><link rel="prefetch" href="/F2020/assets/js/61.f566edd7.js"><link rel="prefetch" href="/F2020/assets/js/62.f836ae34.js"><link rel="prefetch" href="/F2020/assets/js/63.f34d8438.js"><link rel="prefetch" href="/F2020/assets/js/64.be26bf42.js"><link rel="prefetch" href="/F2020/assets/js/65.5b33fabd.js"><link rel="prefetch" href="/F2020/assets/js/66.38722f0c.js"><link rel="prefetch" href="/F2020/assets/js/67.bc61efe9.js"><link rel="prefetch" href="/F2020/assets/js/68.3cf6e246.js"><link rel="prefetch" href="/F2020/assets/js/69.8fd9a7bb.js"><link rel="prefetch" href="/F2020/assets/js/7.549e4e32.js"><link rel="prefetch" href="/F2020/assets/js/70.b41f8caf.js"><link rel="prefetch" href="/F2020/assets/js/71.a96d1c60.js"><link rel="prefetch" href="/F2020/assets/js/72.04d70935.js"><link rel="prefetch" href="/F2020/assets/js/73.de491df5.js"><link rel="prefetch" href="/F2020/assets/js/74.e5ee8a9e.js"><link rel="prefetch" href="/F2020/assets/js/75.6d2e2098.js"><link rel="prefetch" href="/F2020/assets/js/76.26d3e621.js"><link rel="prefetch" href="/F2020/assets/js/77.5522d813.js"><link rel="prefetch" href="/F2020/assets/js/78.660d4301.js"><link rel="prefetch" href="/F2020/assets/js/79.e34d1770.js"><link rel="prefetch" href="/F2020/assets/js/8.cd8d51b1.js"><link rel="prefetch" href="/F2020/assets/js/9.a7d15d43.js">
    <link rel="stylesheet" href="/F2020/assets/css/0.styles.cc1da3e7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/F2020/" class="home-link router-link-active"><!----> <span class="site-name">MAD9135</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/F2020/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/F2020/modules/" class="nav-link router-link-active">
  Modules
</a></div><div class="nav-item"><a href="/F2020/deliverables/" class="nav-link">
  Assignments
</a></div><div class="nav-item"><a href="/F2020/resources/" class="nav-link">
  Resources
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/F2020/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/F2020/modules/" class="nav-link router-link-active">
  Modules
</a></div><div class="nav-item"><a href="/F2020/deliverables/" class="nav-link">
  Assignments
</a></div><div class="nav-item"><a href="/F2020/resources/" class="nav-link">
  Resources
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Introduction</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Content Modules</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/F2020/modules/week1/01-javascript-review/" class="sidebar-link">1.1 JavaScript Review</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/F2020/modules/week1/02-dom-apis/" class="sidebar-heading clickable"><span>1.2 DOM APIs Review</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/F2020/modules/week2/01-data-structures/" class="sidebar-link">2.1 JavaScript Data Types</a></li><li><a href="/F2020/modules/week2/02-modules-promises/" class="sidebar-link">2.2 Modules and Promises</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/F2020/modules/week3/01-what-is-react/" class="sidebar-heading clickable"><span>3.1 What is React?</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/F2020/modules/week3/02-react-tooling/" class="sidebar-heading clickable"><span>3.2 React Tooling</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/F2020/modules/week4/01-components-props/" class="sidebar-link">4.1 Components &amp; Props</a></li><li><a href="/F2020/modules/week4/02-component-state/" class="sidebar-link">4.2 State Management</a></li><li><a href="/F2020/modules/week5/01-hooks-weather/" class="sidebar-link">5.1 Hooks: State &amp; AJAX</a></li><li><a href="/F2020/modules/week5/02-react-router/" class="sidebar-link">5.2 Navigation</a></li><li><a href="/F2020/modules/week6/01-context/" class="sidebar-link">6.1 React Context</a></li><li><a href="/F2020/modules/week6/02-production-deployment/" class="sidebar-link">6.2 Production Deployment</a></li><li><a href="/F2020/" aria-current="page" class="sidebar-link">7.1 Forms &amp; Animation</a></li><li><a href="/F2020/" aria-current="page" class="sidebar-link">7.2 Styling</a></li><li><a href="/F2020/modules/break-week/" class="sidebar-link">Break Week</a></li><li><a href="/F2020/modules/week8/01-react-design-patterns/" class="sidebar-link">8.1 Advance Features</a></li><li><a href="/F2020/modules/week8/02-working-in-teams/" class="sidebar-link">8.2 Working in teams</a></li><li><a href="/F2020/modules/week9/01-pwa-review/" class="sidebar-link">9.1 PWA Review</a></li><li><a href="/F2020/modules/week9/02-react-pwa/" class="sidebar-link">9.2 PWAs with React</a></li><li><a href="/F2020/modules/week10/01-hello-react-native/" class="sidebar-link">10.1 React Native with Expo</a></li><li><a href="/F2020/modules/week10/02-the-same-but-different/" class="sidebar-link">10.2 What's Different</a></li><li><a href="/F2020/modules/week11/01-layout-navigation/" class="sidebar-link">11.1 Layout &amp; Navigation</a></li><li><a href="/F2020/modules/week11/02-nested-navigation/" class="sidebar-link">11.2 Nested Navigation</a></li><li><a href="/F2020/modules/week12/01-component-libraries/" class="sidebar-link">12.1 React Native Components</a></li><li><a href="/F2020/modules/week12/02-context-themes/" aria-current="page" class="active sidebar-link">12.2 React Native Styling</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/F2020/modules/week12/02-context-themes/#review" class="sidebar-link">Review</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/F2020/modules/week12/02-context-themes/#simulated-css" class="sidebar-link">Simulated CSS</a></li><li class="sidebar-sub-header"><a href="/F2020/modules/week12/02-context-themes/#no-cascading" class="sidebar-link">No Cascading</a></li><li class="sidebar-sub-header"><a href="/F2020/modules/week12/02-context-themes/#the-stylesheet-factory-function" class="sidebar-link">The StyleSheet factory function</a></li><li class="sidebar-sub-header"><a href="/F2020/modules/week12/02-context-themes/#applying-multiple-styles-to-a-component" class="sidebar-link">Applying multiple styles to a component</a></li><li class="sidebar-sub-header"><a href="/F2020/modules/week12/02-context-themes/#no-units" class="sidebar-link">No units</a></li><li class="sidebar-sub-header"><a href="/F2020/modules/week12/02-context-themes/#all-views-are-flex-containers" class="sidebar-link">All views are flex containers</a></li></ul></li><li class="sidebar-sub-header"><a href="/F2020/modules/week12/02-context-themes/#practice" class="sidebar-link">Practice</a></li><li class="sidebar-sub-header"><a href="/F2020/modules/week12/02-context-themes/#global-style-system" class="sidebar-link">Global Style System</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/F2020/modules/week12/02-context-themes/#example-code" class="sidebar-link">Example Code</a></li></ul></li><li class="sidebar-sub-header"><a href="/F2020/modules/week12/02-context-themes/#supporting-dark-mode" class="sidebar-link">Supporting Dark Mode</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/F2020/modules/week12/02-context-themes/#usecolorscheme" class="sidebar-link">useColorScheme</a></li><li class="sidebar-sub-header"><a href="/F2020/modules/week12/02-context-themes/#clone-starter-code" class="sidebar-link">Clone Starter Code</a></li><li class="sidebar-sub-header"><a href="/F2020/modules/week12/02-context-themes/#create-theme-objects" class="sidebar-link">Create theme objects</a></li><li class="sidebar-sub-header"><a href="/F2020/modules/week12/02-context-themes/#let-s-add-some-context" class="sidebar-link">Let's add some Context</a></li><li class="sidebar-sub-header"><a href="/F2020/modules/week12/02-context-themes/#composing-common-styles" class="sidebar-link">Composing common styles</a></li><li class="sidebar-sub-header"><a href="/F2020/modules/week12/02-context-themes/#add-the-dark-theme-object" class="sidebar-link">Add the dark theme object</a></li></ul></li><li class="sidebar-sub-header"><a href="/F2020/modules/week12/02-context-themes/#test-it-out" class="sidebar-link">Test it out</a></li></ul></li><li><a href="/F2020/" aria-current="page" class="sidebar-link">13.1 Remote Data</a></li><li><a href="/F2020/" aria-current="page" class="sidebar-link">13.2 Production Deployment</a></li><li><a href="/F2020/" aria-current="page" class="sidebar-link">14.1 Final Projects</a></li><li><a href="/F2020/" aria-current="page" class="sidebar-link">14.2 Final Projects</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/F2020/deliverables/" class="sidebar-heading clickable"><span>Deliverables</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><header><div class="section-title">
    
  </div> <h1>12.2 React Native Styling</h1></header> <h2 id="review"><a href="#review" class="header-anchor">#</a> Review</h2> <h3 id="simulated-css"><a href="#simulated-css" class="header-anchor">#</a> Simulated CSS</h3> <p>Similar to JavaScript styling for the web, React Native components use a <code>style</code> prop that takes an object of CSS like style properties. But this is not a browser. There is no real CSS support. React Native provides a familiar CSS like interface and translates that to native platform styling instructions.</p> <h3 id="no-cascading"><a href="#no-cascading" class="header-anchor">#</a> No Cascading</h3> <p>With the exception of nested <code>&lt;Text /&gt;</code> components, styling rules do not cascade down to their descendant components.</p> <h3 id="the-stylesheet-factory-function"><a href="#the-stylesheet-factory-function" class="header-anchor">#</a> The StyleSheet factory function</h3> <p>While you <em>can</em> use plain JavaScript objects for your styles, it is generally a better practice to use the <code>StyleSheet.create()</code> method to generate your style objects. It provides additional functionality to merge and manage styles in larger projects. By convention (not a technical requirement) styles are usually defined at the bottom of a component module.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>The object passed into <code>StyleSheet.create()</code> can only be one level deep.</p></div> <h3 id="applying-multiple-styles-to-a-component"><a href="#applying-multiple-styles-to-a-component" class="header-anchor">#</a> Applying multiple styles to a component</h3> <p>In web development with CSS, you can apply multiple classes to inherit or combine styles. In React Native there are no classes, but you can achieve the same result by passing an array of style objects to the style prop of a component. e.g.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>Button title<span class="token operator">=</span><span class="token string">&quot;Click Me&quot;</span> style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>styles<span class="token punctuation">.</span>button<span class="token punctuation">,</span> styles<span class="token punctuation">.</span>buttonOutline<span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
</code></pre></div><h3 id="no-units"><a href="#no-units" class="header-anchor">#</a> No units</h3> <p>All dimensions in React Native are unitless, and represent <a href="https://en.wikipedia.org/wiki/Device-independent_pixel" target="_blank" rel="noopener noreferrer">density-independent pixels<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. This applies to <code>height</code>, <code>width</code>, <code>fontSize</code> and any other style prop that affects the size of something.</p> <h3 id="all-views-are-flex-containers"><a href="#all-views-are-flex-containers" class="header-anchor">#</a> All views are flex containers</h3> <p>Nearly all layout positioning is done with flexbox styles. The <code>View</code> component and anything derived from it like <code>ScrollView</code> or <code>FlatList</code> are flex container. Their children can be positioned using standard CSS flexbox style directives like <code>justifyContent: 'center'</code>.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>The default <code>flexDirection</code> in React Native is <code>column</code>, not <code>row</code> like in the browser.</p></div> <p>A component must have a declared size or its children will not be visible. The most common declaration is <code>flex: 1</code> to indicate that the container should take up all available space.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>A component can only expand to fill available space if its parent has dimensions greater than 0.</p> <p>If a parent does not have explicitly defined width and height, or has a <code>flex</code> style prop set, that parent will have dimensions of 0 and the flex children will not be visible.</p></div> <h2 id="practice"><a href="#practice" class="header-anchor">#</a> Practice</h2> <p>Create an App component with three buttons placed in the center of the screen with a gap of 16dip between them. The colour should be <code>indigo</code>.</p> <ul><li>The first button should be a default text button.</li> <li>The second button should have an outline border with rounded corners.</li> <li>The third button should have a solid background colour with a pill shape.</li></ul> <p>Use the <code>StyleSheet.create()</code> method to define the styles for all of the components.</p> <h2 id="global-style-system"><a href="#global-style-system" class="header-anchor">#</a> Global Style System</h2> <p>As your application grows you will quickly encounter the need to create some consistent global style rules rather than repeating style code in every component. There are many possible solutions to this, but one of the best practices that I recommend is creating a top level styles folder and exporting simple JavaScript objects with your style system variables for spacing, colours, and typography, plus any global style rules that can then be composed in your components using <code>StyleSheet.create()</code>. This both improves consistency and readability.</p> <div class="custom-block tip"><p class="custom-block-title">Read more</p> <p>John Schoeman and Vendela Larsson wrote a great article, <a href="https://thoughtbot.com/blog/structure-for-styling-in-react-native" target="_blank" rel="noopener noreferrer"><em>React Native Styling: Structure for Style Organization</em><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> explaining this technique.</p></div> <h3 id="example-code"><a href="#example-code" class="header-anchor">#</a> Example Code</h3> <p>As a reference example of this approach, <a href="https://github.com/rlmckenney/mad9135-dark-mode-demo" target="_blank" rel="noopener noreferrer">this GitHub repo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> takes the movie list Summary/Detail view example from an earlier module and refactored it to use a global design system.</p> <p>Spend a few minutes exploring this code and see the value in this approach to managing styles.</p> <div class="custom-block tip"><p class="custom-block-title">Credit</p> <p>The colour palettes and spacing scales were borrowed from the &quot;utility-first css framework&quot; called <a href="https://tailwindcss.com/" target="_blank" rel="noopener noreferrer">tailwindcss<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></div> <h2 id="supporting-dark-mode"><a href="#supporting-dark-mode" class="header-anchor">#</a> Supporting Dark Mode</h2> <p>It is becoming more and more common to have an app (or website) that supports both a light and dark theme. There is usually a setting or a UI switch that allows the user to change modes. It is also possible to have this selection set automatically based on the user's default OS selection.</p> <p>In this exercise, you will learn how to make your components dynamically toggle between light mode and dark mode using React's <a href="https://reactjs.org/docs/context.html" target="_blank" rel="noopener noreferrer">Context API<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and React Native's <a href="https://reactnative.dev/docs/usecolorscheme" target="_blank" rel="noopener noreferrer">useColorScheme<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> hook.</p> <h3 id="usecolorscheme"><a href="#usecolorscheme" class="header-anchor">#</a> useColorScheme</h3> <p>The <code>Appearance</code> module gives you access to the user's preferred colour scheme (light, dark, null) as set on their device. This is supported on android 10+ and iOS 13+. However, this value may change periodically (e.g. auto switching at sunset and sunrise), so you will need to subscribe to changes.</p> <p>Fortunately, the <code>useColorScheme()</code> hook encapsulates the various <code>Appearance</code> functions and provides a single subscribed value ready to consume.</p> <div class="custom-block warning"><p class="custom-block-title">Expo Configuration required</p> <p>In order to activate support for appearance mode switching, you will need to update the <code>app.json</code> file with this setting</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;expo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;userInterfaceStyle&quot;</span><span class="token operator">:</span> <span class="token string">&quot;automatic&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Without this setting, it will default to <code>light</code> to maintain backward compatibility.</p> <p><a href="https://docs.expo.io/versions/v39.0.0/sdk/appearance/#configuration" target="_blank" rel="noopener noreferrer">See the docs for full details<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></div> <h4 id="test-it"><a href="#test-it" class="header-anchor">#</a> Test it</h4> <p>Change the default <code>App.js</code> component in a new Expo managed React Native project to display the current user preference (if set).</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><div class="highlighted"> </div><br><br><div class="highlighted"> </div><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>StatusBar<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'expo-status-bar'</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>StyleSheet<span class="token punctuation">,</span> Text<span class="token punctuation">,</span> View<span class="token punctuation">,</span> useColorScheme<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-native'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> colorScheme <span class="token operator">=</span> <span class="token function">useColorScheme</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>View style<span class="token operator">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>container<span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Text<span class="token operator">&gt;</span><span class="token function">useColorScheme</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">{</span>colorScheme<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>Text<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>StatusBar style<span class="token operator">=</span><span class="token string">&quot;auto&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>View<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> styles <span class="token operator">=</span> StyleSheet<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  container<span class="token operator">:</span> <span class="token punctuation">{</span>
    flex<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    backgroundColor<span class="token operator">:</span> <span class="token string">'#fff'</span><span class="token punctuation">,</span>
    alignItems<span class="token operator">:</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
    justifyContent<span class="token operator">:</span> <span class="token string">'center'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="clone-starter-code"><a href="#clone-starter-code" class="header-anchor">#</a> Clone Starter Code</h3> <p>Start by cloning the <a href="https://github.com/rlmckenney/mad9135-dark-mode-demo" target="_blank" rel="noopener noreferrer">starter code from GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> (this is the same repo from the section on global style systems above).</p> <h3 id="create-theme-objects"><a href="#create-theme-objects" class="header-anchor">#</a> Create theme objects</h3> <p>To make it easier to toggle between light mode and dark mode, it is helpful to create two theme objects that will have the same property names, but different color values. When creating the theme prop names, try to choose names that are descriptive, but generic enough to make sense in multiple places in the design. This is a starting point ...</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/* /styles/themes.js */</span>

<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> colors <span class="token keyword">from</span> <span class="token string">'./colors'</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> light <span class="token operator">=</span> <span class="token punctuation">{</span>
  primaryColor<span class="token operator">:</span> colors<span class="token punctuation">.</span>indigo800<span class="token punctuation">,</span>
  accentColor<span class="token operator">:</span> colors<span class="token punctuation">.</span>indigo200<span class="token punctuation">,</span>
  baseTextColor<span class="token operator">:</span> colors<span class="token punctuation">.</span>gray700<span class="token punctuation">,</span>
  strongTextColor<span class="token operator">:</span> colors<span class="token punctuation">.</span>gray900<span class="token punctuation">,</span>
  subduedTextColor<span class="token operator">:</span> colors<span class="token punctuation">.</span>gray500<span class="token punctuation">,</span>
  inverseTextColor<span class="token operator">:</span> colors<span class="token punctuation">.</span>white<span class="token punctuation">,</span>
  listSeparatorColor<span class="token operator">:</span> colors<span class="token punctuation">.</span>indigo100<span class="token punctuation">,</span>
  bodyBackgroundColor<span class="token operator">:</span> colors<span class="token punctuation">.</span>indigo50
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> dark <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><h4 id="update-components"><a href="#update-components" class="header-anchor">#</a> Update components</h4> <p>Now that you have your theme objects, it is time to update the various UI components to use these properties rather than using the colors directly.</p> <p>e.g.</p> <div class="language-js extra-class"><div class="highlight-lines"><br><div class="highlighted"> </div><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br></div><pre class="language-js"><code><span class="token comment">/* App.js */</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>themes<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./styles'</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> theme <span class="token operator">=</span> themes<span class="token punctuation">.</span>light

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>SafeAreaProvider<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>MoviesProvider<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>NavigationContainer<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>Stack<span class="token punctuation">.</span>Navigator
            screenOptions<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
              headerStyle<span class="token operator">:</span> <span class="token punctuation">{</span>backgroundColor<span class="token operator">:</span> theme<span class="token punctuation">.</span>primaryColor<span class="token punctuation">}</span><span class="token punctuation">,</span>
              headerTintColor<span class="token operator">:</span> theme<span class="token punctuation">.</span>inverseTextColor
            <span class="token punctuation">}</span><span class="token punctuation">}</span>
          <span class="token operator">&gt;</span>
        <span class="token operator">&gt;</span>
  <span class="token comment">// ...      </span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/* MovieListScreen.js */</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span>themes<span class="token punctuation">,</span> spacing<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../styles'</span>
<span class="token comment">// ...</span>

<span class="token operator">&lt;</span>FlatList style<span class="token operator">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>container<span class="token punctuation">}</span>

<span class="token comment">// ... </span>
<span class="token keyword">const</span> theme <span class="token operator">=</span> themes<span class="token punctuation">.</span>light
<span class="token keyword">const</span> styles <span class="token operator">=</span> StyleSheet<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  container<span class="token operator">:</span> <span class="token punctuation">{</span>
    padding<span class="token operator">:</span> spacing<span class="token punctuation">.</span>base<span class="token punctuation">,</span>
    backgroundColor<span class="token operator">:</span> theme<span class="token punctuation">.</span>bodyBackgroundColor
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="update-the-remaining-components"><a href="#update-the-remaining-components" class="header-anchor">#</a> Update the remaining components</h4> <p>OK. Now you should update the remaining two components to use the theme provided variables where appropriate.</p> <ul><li>MovieListItem.js</li> <li>MovieDetailScreen.js</li></ul> <h3 id="let-s-add-some-context"><a href="#let-s-add-some-context" class="header-anchor">#</a> Let's add some Context</h3> <p>That was a big step in the refactoring, but the app is still using the light theme that we started with. It is time to pass the theme to your components using a Context Provider and a custom hook.</p> <p>Create a <code>ThemeContext.js</code> module in the <code>/context</code> folder. The <code>ThemeProvider()</code> method will follow the same pattern that we have used in previous examples and will provide the current theme name, the themes object (imported from styles) and a toggleTheme function. The default theme will be set to the user's platform default value with the <code>useColorScheme</code> hook.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/* /context/ThemeContext.js (part one)*/</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>useColorScheme<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-native'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>themes<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../styles'</span>

<span class="token keyword">const</span> ThemeContext <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">ThemeProvider</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// defaultTheme is either 'dark' or 'light'</span>
  <span class="token keyword">const</span> defaultTheme <span class="token operator">=</span> <span class="token function">useColorScheme</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>themeName<span class="token punctuation">,</span> setThemeName<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span>defaultTheme<span class="token punctuation">)</span>

  <span class="token keyword">function</span> <span class="token function">toggleTheme</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setThemeName</span><span class="token punctuation">(</span><span class="token parameter">currentTheme</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>currentTheme <span class="token operator">===</span> <span class="token string">'light'</span> <span class="token operator">?</span> <span class="token string">'dark'</span> <span class="token operator">:</span> <span class="token string">'light'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>ThemeContext<span class="token punctuation">.</span>Provider
      value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>themeName<span class="token punctuation">,</span> themes<span class="token punctuation">,</span> toggleTheme<span class="token punctuation">}</span><span class="token punctuation">}</span>
      <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span>
    <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// ... rest of module</span>
</code></pre></div><h4 id="the-custom-hook"><a href="#the-custom-hook" class="header-anchor">#</a> The custom hook ...</h4> <p>You now want to create a custom <code>useTheme</code> hook. It too should follow the basic pattern that we have used before, but this time we need to add a little extra functionality. Our hook should take an optional function parameter that will inject the current theme into a StyleSheet object and return the resulting styles. For maximum flexibility in setting styles on components, the hook should return an object with the styles generated from the parameter function, the current theme name, the current theme object, and the toggleTheme function.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/* /context/ThemeContext.js (part two)*/</span>

<span class="token keyword">function</span> <span class="token function">useTheme</span><span class="token punctuation">(</span><span class="token parameter">stylesheetBuilder</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> context <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useContext</span><span class="token punctuation">(</span>ThemeContext<span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>context<span class="token punctuation">)</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'useTheme hook must be called within a ThemeProvider'</span><span class="token punctuation">)</span>

  <span class="token keyword">const</span> <span class="token punctuation">{</span>themeName<span class="token punctuation">,</span> themes<span class="token punctuation">,</span> toggleTheme<span class="token punctuation">}</span> <span class="token operator">=</span> context
  <span class="token keyword">const</span> theme <span class="token operator">=</span> themes<span class="token punctuation">[</span>themeName<span class="token punctuation">]</span>

  <span class="token keyword">let</span> styles <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>stylesheetBuilder <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> stylesheetBuilder <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">)</span>
    styles <span class="token operator">=</span> <span class="token function">stylesheetBuilder</span><span class="token punctuation">(</span>theme<span class="token punctuation">)</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>styles<span class="token punctuation">,</span> themeName<span class="token punctuation">,</span> theme<span class="token punctuation">,</span> toggleTheme<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span>ThemeProvider<span class="token punctuation">,</span> useTheme<span class="token punctuation">}</span>
</code></pre></div><h4 id="add-the-theme-to-your-components"><a href="#add-the-theme-to-your-components" class="header-anchor">#</a> Add the theme to your components</h4> <p>Update the main <code>App.js</code> component to import the <code>ThemeProvider</code> and wrap it around the existing JSX. Because we would actually like to use the theme in the App component, create a simple <code>ThemeWrapper</code> component that will be the default export from <code>App.js</code>. The updated module should look like this ...</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br></div><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>NavigationContainer<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@react-navigation/native'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>createStackNavigator<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@react-navigation/stack'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>SafeAreaProvider<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-native-safe-area-context'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>MoviesProvider<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./context/moviesContext'</span>
<span class="token keyword">import</span> MovieListScreen <span class="token keyword">from</span> <span class="token string">'./components/MovieListScreen'</span>
<span class="token keyword">import</span> MovieDetailsScreen <span class="token keyword">from</span> <span class="token string">'./components/MovieDetailScreen'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>StatusBar<span class="token punctuation">,</span> View<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-native'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>ThemeProvider<span class="token punctuation">,</span> useTheme<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./context/themeContext'</span>

<span class="token keyword">const</span> Stack <span class="token operator">=</span> <span class="token function">createStackNavigator</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">ThemeWrapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>ThemeProvider<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ThemeProvider<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span>theme<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useTheme</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>SafeAreaProvider<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>MoviesProvider<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>NavigationContainer<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>Stack<span class="token punctuation">.</span>Navigator
            screenOptions<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
              headerStyle<span class="token operator">:</span> <span class="token punctuation">{</span>backgroundColor<span class="token operator">:</span> theme<span class="token punctuation">.</span>primaryColor<span class="token punctuation">}</span><span class="token punctuation">,</span>
              headerTintColor<span class="token operator">:</span> theme<span class="token punctuation">.</span>inverseTextColor
            <span class="token punctuation">}</span><span class="token punctuation">}</span>
          <span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>Stack<span class="token punctuation">.</span>Screen
              name<span class="token operator">=</span><span class="token string">&quot;MovieList&quot;</span>
              component<span class="token operator">=</span><span class="token punctuation">{</span>MovieListScreen<span class="token punctuation">}</span>
              options<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
                title<span class="token operator">:</span> <span class="token string">'Movie List'</span>
              <span class="token punctuation">}</span><span class="token punctuation">}</span>
            <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>Stack<span class="token punctuation">.</span>Screen
              name<span class="token operator">=</span><span class="token string">&quot;MovieDetails&quot;</span>
              component<span class="token operator">=</span><span class="token punctuation">{</span>MovieDetailsScreen<span class="token punctuation">}</span>
              options<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>title<span class="token operator">:</span> <span class="token string">'Movie Details'</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
            <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>Stack<span class="token punctuation">.</span>Navigator<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>NavigationContainer<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>StatusBar barStyle<span class="token operator">=</span><span class="token string">&quot;light-content&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>MoviesProvider<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>SafeAreaProvider<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> ThemeWrapper
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>When the device setting changes to dark mode the default status bar colour also reverses.</p></div> <h5 id="movielistscreen"><a href="#movielistscreen" class="header-anchor">#</a> MovieListScreen</h5> <p>In the compositional components, you can now access the correct theme and incorporate it into the styles local to that component. First import the custom hook and invoke it with a theme constructor function (we will look at that in a second).</p> <div class="language-js extra-class"><div class="highlight-lines"><br><div class="highlighted"> </div><br><br><br><div class="highlighted"> </div><br><br><br></div><pre class="language-js"><code><span class="token comment">// other imports</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>useTheme<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../context/themeContext'</span>

<span class="token keyword">function</span> <span class="token function">MovieListScreen</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>navigation<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>movies<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useMovies</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span>styles<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useTheme</span><span class="token punctuation">(</span>styleSheet<span class="token punctuation">)</span>

<span class="token comment">// ... rest of module</span>
</code></pre></div><h4 id="the-stylesheet-function"><a href="#the-stylesheet-function" class="header-anchor">#</a> The <code>styleSheet</code> function</h4> <p>Convert the previous <code>styles</code> assignment statement to be a function that takes the current theme as an argument. This will get passed into the <code>useTheme</code> hook and generate the <code>styles</code> object that you can use in your JSX.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">styleSheet</span> <span class="token operator">=</span> <span class="token parameter">theme</span> <span class="token operator">=&gt;</span>
  StyleSheet<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    safeArea<span class="token operator">:</span> <span class="token punctuation">{</span>
      flex<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      backgroundColor<span class="token operator">:</span> theme<span class="token punctuation">.</span>bodyBackgroundColor
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    container<span class="token operator">:</span> <span class="token punctuation">{</span>
      padding<span class="token operator">:</span> spacing<span class="token punctuation">.</span>base<span class="token punctuation">,</span>
      backgroundColor<span class="token operator">:</span> theme<span class="token punctuation">.</span>bodyBackgroundColor
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="practice-2"><a href="#practice-2" class="header-anchor">#</a> Practice</h4> <p>Update the other two components using this example.</p> <h3 id="composing-common-styles"><a href="#composing-common-styles" class="header-anchor">#</a> Composing common styles</h3> <p>Often there are a combination of styles that you would like to apply across the application and in browser land you would create a global CSS class for that. You can do this with the global style objects that we created earlier. e.g.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/* /styles/typography.js */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> bodyText <span class="token operator">=</span> <span class="token punctuation">{</span>
  color<span class="token operator">:</span> colors<span class="token punctuation">.</span>baseText<span class="token punctuation">,</span>
  fontSize<span class="token operator">:</span> baseFontSize<span class="token punctuation">,</span>
  fontWeight<span class="token operator">:</span> buttonFontWeight<span class="token punctuation">,</span>
  lineHeight<span class="token operator">:</span> baseLineHeight
<span class="token punctuation">}</span>
</code></pre></div><p>But what happens when you want to modify some of those properties based on the selected theme? The React Native solution to this is to use JavaScript's assignment destructuring to mix properties. e.g.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/* /styles/themes.js */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> light <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  
  bodyText<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>typography<span class="token punctuation">.</span>bodyText<span class="token punctuation">,</span>
    color<span class="token operator">:</span> colors<span class="token punctuation">.</span>gray200
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="add-the-dark-theme-object"><a href="#add-the-dark-theme-object" class="header-anchor">#</a> Add the <code>dark</code> theme object</h3> <p>Time to add the dark theme object properties. The final <code>themes.js</code> module should look like this ...</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> colors <span class="token keyword">from</span> <span class="token string">'./colors'</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> typography <span class="token keyword">from</span> <span class="token string">'./typography'</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> light <span class="token operator">=</span> <span class="token punctuation">{</span>
  primaryColor<span class="token operator">:</span> colors<span class="token punctuation">.</span>indigo800<span class="token punctuation">,</span>
  accentColor<span class="token operator">:</span> colors<span class="token punctuation">.</span>indigo200<span class="token punctuation">,</span>
  baseTextColor<span class="token operator">:</span> colors<span class="token punctuation">.</span>gray700<span class="token punctuation">,</span>
  highlightTextColor<span class="token operator">:</span> colors<span class="token punctuation">.</span>indigo800<span class="token punctuation">,</span>
  strongTextColor<span class="token operator">:</span> colors<span class="token punctuation">.</span>gray900<span class="token punctuation">,</span>
  subduedTextColor<span class="token operator">:</span> colors<span class="token punctuation">.</span>gray500<span class="token punctuation">,</span>
  inverseTextColor<span class="token operator">:</span> colors<span class="token punctuation">.</span>white<span class="token punctuation">,</span>
  listSeparatorColor<span class="token operator">:</span> colors<span class="token punctuation">.</span>indigo100<span class="token punctuation">,</span>
  bodyBackgroundColor<span class="token operator">:</span> colors<span class="token punctuation">.</span>indigo50<span class="token punctuation">,</span>
  bodyText<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>typography<span class="token punctuation">.</span>bodyText<span class="token punctuation">,</span>
    color<span class="token operator">:</span> colors<span class="token punctuation">.</span>gray700
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> dark <span class="token operator">=</span> <span class="token punctuation">{</span>
  primaryColor<span class="token operator">:</span> colors<span class="token punctuation">.</span>gray800<span class="token punctuation">,</span>
  accentColor<span class="token operator">:</span> colors<span class="token punctuation">.</span>indigo800<span class="token punctuation">,</span>
  baseTextColor<span class="token operator">:</span> colors<span class="token punctuation">.</span>gray200<span class="token punctuation">,</span>
  highlightTextColor<span class="token operator">:</span> colors<span class="token punctuation">.</span>indigo300<span class="token punctuation">,</span>
  strongTextColor<span class="token operator">:</span> colors<span class="token punctuation">.</span>gray50<span class="token punctuation">,</span>
  subduedTextColor<span class="token operator">:</span> colors<span class="token punctuation">.</span>gray300<span class="token punctuation">,</span>
  inverseTextColor<span class="token operator">:</span> colors<span class="token punctuation">.</span>indigo300<span class="token punctuation">,</span>
  listSeparatorColor<span class="token operator">:</span> colors<span class="token punctuation">.</span>gray600<span class="token punctuation">,</span>
  bodyBackgroundColor<span class="token operator">:</span> colors<span class="token punctuation">.</span>gray700<span class="token punctuation">,</span>
  bodyText<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>typography<span class="token punctuation">.</span>bodyText<span class="token punctuation">,</span>
    color<span class="token operator">:</span> colors<span class="token punctuation">.</span>gray200
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="test-it-out"><a href="#test-it-out" class="header-anchor">#</a> Test it out</h2> <p>Switch the active theme preference on your phone and refresh the Expo Client app.</p> <p>Try adding a theme toggle button to the UI.</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: :</span> <span class="time">12/11/2020, 1:23:38 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/F2020/modules/week12/01-component-libraries/" class="prev">
        12.1 React Native Components
      </a></span> <span class="next"><a href="/F2020/" class="router-link-active">
        13.1 Remote Data
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/F2020/assets/js/app.71c50f4b.js" defer></script><script src="/F2020/assets/js/2.ad437195.js" defer></script><script src="/F2020/assets/js/41.bd24dd52.js" defer></script><script src="/F2020/assets/js/6.2620568a.js" defer></script>
  </body>
</html>
